<!DOCTYPE html>
<html lang="en" dir=>

<head>
  <meta name="generator" content="Hugo 0.74.3" />
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="">
<meta name="theme-color" content="#FFFFFF"><meta property="og:title" content="KDF" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://739918602.github.io/Blog/tags/KDF/" />
<meta property="og:updated_time" content="2021-01-31T00:01:25+08:00" />
<title>KDF | 笔记本</title>
<link rel="manifest" href="/Blog/manifest.json">
<link rel="icon" href="/Blog/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/Blog/book.min.9b5bc639cc15319cd5d9df4613652b8b4625be14d3e2247313619562ffe815fa.css" integrity="sha256-m1vGOcwVMZzV2d9GE2Uri0YlvhTT4iRzE2GVYv/oFfo=">
<script defer src="/Blog/en.search.min.d55d5942f9ac3f52b6c7220ef84a921d6787559960369dfa5dc003d1729fb38a.js" integrity="sha256-1V1ZQvmsP1K2xyIO&#43;EqSHWeHVZlgNp36XcAD0XKfs4o="></script>
<link rel="alternate" type="application/rss+xml" href="https://739918602.github.io/Blog/tags/KDF/index.xml" title="笔记本" />
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body dir=>
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a href="/Blog"><span>笔记本</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>











  



  
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-21c101d484f945b7ec020cbc289dbdc1" class="toggle"  />
    <label for="section-21c101d484f945b7ec020cbc289dbdc1" class="flex justify-between">
      <a  class="">Crypto</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://739918602.github.io/Blog/posts/crypto/Signal/" class="">Signal算法白皮书</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-05a0f01146a99f2c4fe11496d45fa8a0" class="toggle"  />
    <label for="section-05a0f01146a99f2c4fe11496d45fa8a0" class="flex justify-between">
      <a  class="">Ecc</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://739918602.github.io/Blog/posts/crypto/ecc/Curve25519/" class="">Curve曲线算法</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://739918602.github.io/Blog/posts/crypto/ecc/ECIES-Example/" class="">ECIES加密方案</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://739918602.github.io/Blog/posts/crypto/ecc/ECIES-Wiki/" class="">ECIES加密概要</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-11774a8a7de8dad25cf30524f8483b68" class="toggle"  />
    <label for="section-11774a8a7de8dad25cf30524f8483b68" class="flex justify-between">
      <a  class="">Hash</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://739918602.github.io/Blog/posts/crypto/hash/Argon2/" class="">Argon2算法</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>















</nav>




  <script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/Blog/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>KDF</strong>

  <label for="toc-control">
    
    <img src="/Blog/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  <nav>
  <ul>
  
    
    <li class="book-section-flat">
      <strong>Categories</strong>
      <ul>
      
        <li class="flex justify-between">
          <a href="/Blog/categories/%E5%8A%A0%E5%AF%86%E7%9B%B8%E5%85%B3/">加密相关</a>
          <span>5</span>
        </li>
      
      </ul>
    </li>
    
  
    
    <li class="book-section-flat">
      <strong>Tags</strong>
      <ul>
      
        <li class="flex justify-between">
          <a href="/Blog/tags/Curve/">Curve</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Blog/tags/ECC/">ECC</a>
          <span>4</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Blog/tags/HASH/">HASH</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Blog/tags/KDF/">KDF</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Blog/tags/Signal/">Signal</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Blog/tags/%E7%AD%BE%E5%90%8D/">签名</a>
          <span>1</span>
        </li>
      
      </ul>
    </li>
    
  
  </ul>
</nav>


  </aside>
  
 
      </header>

      
      
  
  <article class="markdown book-post">
    <h2>
      <a href="/Blog/posts/crypto/Signal/">Signal算法白皮书</a>
    </h2>
    
  <h5>January 28, 2021</h5>



  
  <div>
    
      <a href="/Blog/categories/%E5%8A%A0%E5%AF%86%E7%9B%B8%E5%85%B3/">加密相关</a>
  </div>
  

  
  <div>
    
      <a href="/Blog/tags/Signal/">Signal</a>, 
      <a href="/Blog/tags/KDF/">KDF</a>, 
      <a href="/Blog/tags/ECC/">ECC</a>, 
      <a href="/Blog/tags/Curve/">Curve</a>
  </div>
  


    <p>本文由 简悦 SimpRead 转码， 原文地址 blog.lancitou.net
 本文是 Signal 协议中使用的「双棘轮算法」的中文翻译（基于 Revision 1, 2016-11-20),「参考资料」部分保持原文不翻译，英文原文在此。
双棘轮算法用于通信双方基于共享密钥交换加密消息。通常，通信双方将先使用某种密钥协商协议（例如 X3DH1）以协商共享密钥。此后，通信双方即可使用双棘轮算法发送接收加密消息了。
通信双方将为每一个双棘轮消息派生出新的密钥，使得旧的密钥不能从新的密钥计算得到。通信双方还将在消息中附上迪菲 - 赫尔曼公钥值。迪菲 - 赫尔曼计算的结果将被混入派生出的密钥中，使得新的密钥不能从旧的密钥计算得到。这些特性将在某一方的密钥泄漏后保护此前或此后的加密消息。
下面描述双棘轮算法及其带头部加密的变种，同时将讨论二者的安全特性。
2.1. KDF 链 #  KDF 链是双棘轮算法中的核心概念。
我们将 KDF 定义为这样一个密码学函数：输入一个秘密且随机的 KDF 密钥（KDF key） 及其它一些输入数据，并返回输出数据。在密钥未知的前提下，输出的数据与随机数不可区分（也就是说，KDF 满足密码学「PRF」的要求）。若密钥不是秘密且随机的，则 KDF 应仍然能作为密钥和输入数据的安全的密码学哈希。当 HMAC 和 HKDF 使用安全的哈希算法实例化时，二者的构造即满足 KDF 定义 23。
我们使用术语 KDF 链表示如下流程：一个 KDF 输出的一部分作为 输出密钥（Output key），而另一部分将取代 KDF 密钥，作为另一个 KDF 的输入密钥。下图展示了一个处理三个输入密钥并生成三个输出密钥的 KDF 链：
一个 KDF 链具有如下特性（使用的术语来自 4）：
 弹性（resilience）：对于不知道 KDF 密钥的攻击者来说，输出密钥看起来是随机的。即使攻击者能控制 KDF 的输入，此条特性仍然成立。 前向安全性（forward security）：对于知道某一时刻的 KDF 密钥的攻击者来说，旧的输出密钥看起来是随机的。 被攻破后的可恢复性（break-in recovery）：对于知道某一时刻的 KDF 密钥的攻击者来说，新的输出密钥看起来是随机的，只要新的输入中增加了足够的熵（entropy）。  在 Alice 和 Bob 之间的双棘轮会话中，双方保存的 KDF 密钥将用于三条链：根链（root chain）、发送链（sending chain）及接收链（receiving chain）（Alice 的发送链对应 Bob 的接收链，反之亦然）。
        <a href="/Blog/posts/crypto/Signal/">...</a>
      
    </p>
  </article>
  

  


 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>

 
        
      </footer>

      
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  <nav>
  <ul>
  
    
    <li class="book-section-flat">
      <strong>Categories</strong>
      <ul>
      
        <li class="flex justify-between">
          <a href="/Blog/categories/%E5%8A%A0%E5%AF%86%E7%9B%B8%E5%85%B3/">加密相关</a>
          <span>5</span>
        </li>
      
      </ul>
    </li>
    
  
    
    <li class="book-section-flat">
      <strong>Tags</strong>
      <ul>
      
        <li class="flex justify-between">
          <a href="/Blog/tags/Curve/">Curve</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Blog/tags/ECC/">ECC</a>
          <span>4</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Blog/tags/HASH/">HASH</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Blog/tags/KDF/">KDF</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Blog/tags/Signal/">Signal</a>
          <span>1</span>
        </li>
      
        <li class="flex justify-between">
          <a href="/Blog/tags/%E7%AD%BE%E5%90%8D/">签名</a>
          <span>1</span>
        </li>
      
      </ul>
    </li>
    
  
  </ul>
</nav>

 
      </div>
    </aside>
    
  </main>

  
</body>

</html>












